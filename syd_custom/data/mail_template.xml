<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <record id="email_template_test_send" model="mail.template">
            <field name="name">Vendors: Mail Template Pending Orders</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="email_from">${object.company_id.email |safe}</field>
            <field name="email_to">${object.email_formatted | safe}</field>
            <field name="subject">${object.name} - Pending Orders</field>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.lang}</field>
            <field name="body_html"><![CDATA[
<p>Ciao ${object.name}.</p>
<br/>
<p>
	In allegato gli ordini che sono ancora da ricevere.
</p>
<br/>
]]>
            </field>
        </record>
        
        <record id="email_template_cancel_purchase_order" model="mail.template">
            <field name="name">Vendors: Richiesta di cancellazione</field>
            <field name="model_id" ref="purchase.model_purchase_order"/>
            <field name="email_from">${object.company_id.email |safe}</field>
            <field name="email_to">${object.partner_id.email_formatted | safe}</field>
            <field name="subject">${object.partner_id.name} - Richiesta cancellazione Ordine - ${object.name} ${' - ' + str(object.commercehub_po) if object.commercehub_po else ' '}</field>            
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.lang}</field>
            <field name="body_html" type="html">
				<div style="margin: 0px; padding: 0px;">
				    <p style="margin: 0px; padding: 0px; font-size: 13px;">
				        Dear ${object.partner_id.name},
				        <br /><br />
				        Per favore confermare al più presto se è possibile cancellare questo ordine <strong>${object.name}</strong>
				        <br/><br/>
				        <ul>
					        % for line in object.order_line:
						        % if object.commercehub_po and line.product_po_id:
					        		<li>${line.product_po_id.default_code} ${' | ' + str(line.custom_value) if line.custom_value else ''} ${' | ' + str(line.product_taglia) if line.product_taglia else ''} ${' | ' + str(line.product_placcatura) if line.product_placcatura else ''}</li>			        
								% elif line.product_po_id:
					        		<li>${line.product_po_id.default_code} ${' | ' + str(line.product_taglia) if line.product_taglia else ''} ${' | ' + str(line.product_placcatura) if line.product_placcatura else ''}</li>			        
					        	% endif
					        % endfor
				        </ul>
				        <br/><br/>
				        Attendiamo conferma,<br/>
				        Grazie				       
				    </p>
				</div>
			</field>
        </record>
        
        <record id="email_template_cancel_sale_order" model="mail.template">
            <field name="name">Sales: Richiesta di cancellazione</field>
            <field name="model_id" ref="sale.model_sale_order"/>
            <field name="email_from">${object.company_id.email |safe}</field>
            <field name="subject">${object.partner_id.name} - Richiesta cancellazione Ordine - ${object.name} ${' - ' + str(object.commercehub_po) if object.commercehub_po else ' '}</field>            
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.lang}</field>
            <field name="body_html" type="html">
				<div style="margin: 0px; padding: 0px;">
				    <p style="margin: 0px; padding: 0px; font-size: 13px;">
				        Ciao,
				        <br /><br />
				        Per favore confermare al più presto se è possibile cancellare questo ordine <strong>${object.name}</strong>
				        <br/><br/>
				        <ul>
					        % for line in object.order_line:
						        % if object.commercehub_po and line.product_id:
					        		<li> ${object.commercehub_po} ${' | ' + str(object.name)} ${' | ' + str(line.name) if line.name else ''} ${' | ' + str(line.product_id.qvc_complete_code) if line.product_id.qvc_complete_code else ''}</li>			        
					        	% endif
					        % endfor
				        </ul>
				        <br/><br/>
				        Attendiamo conferma,<br/>
				        Grazie				       
				    </p>
				</div>
			</field>
        </record>
        
    </data>
</odoo>
